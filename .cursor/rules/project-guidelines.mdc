---
description: 
globs: 
alwaysApply: true
---
# Project Development Rules and Guidelines

## Related READMEs
Refer to any related `README.md` files, whether located inside an app, package, or any subfolder, for specific development guidelines and rules.

## Project Structure & Technologies
- **Monorepo:** Turborepo managed with Bun.
- **Structure:**
  - `apps/backend`: HonoJS backend.
  - `apps/frontend`: ReactJS frontend (Vite, Tanstack Router/Query).
  - `packages/data`: Static data (e.g., permissions).
  - `packages/ui`: UI components (Shadcn based).
  - `packages/validation`: Zod validation schemas.

## Backend (`apps/backend`)
- **Framework:** HonoJS.
- **Database:**
  - ORM: Drizzle ORM with PostgreSQL.
  - Schemas located at: `src/drizzle/schema/[modelName]Schema.ts`
  - Import all schemas into: `src/drizzle/index.ts`
  - Use `drizzle-orm/pg-core` for all imports.
  - Prefer using `db.query...` over `db.select()`.
- **Routing:**
  - Define routes/handlers in `src/routes/[name]Route.ts`.
  - Split files if a route has too many endpoints.
  - Enforce permission checks where necessary.
- **Environment Variables:**
  - Load via `src/appEnv.ts`.
- **Templates:**
  - Available at: `turbo/generators/templates`.

## Frontend (`apps/frontend`)
- **Framework/Libs:** ReactJS, Vite, Tanstack Router, Tanstack Query.
- **API Communication:**
  - Use `honoClient` from `src/honoClient.ts`.
  - Use `fetchRPC()` from `src/utils/fetchRPC.ts`. Example usage: 
    ```ts
    await fetchRPC(client.users.$get);
    ```
- **Templates:**
  - Available at: `turbo/generators/templates/page-template`.

## General Development Rules
- **TypeScript:**
  - No `any` type allowed. Prefer specific types or `unknown`.
  - Use null-coalescing operator (`??`) instead of logical OR (`||`) for defaults.
- **Documentation:**
  - Add JSDoc comments for functions, complex code blocks, variables, and types.
- **UI/UX:**
  - Prioritize good UI/UX practices.
  - Reuse components from `packages/ui` when applicable.
- **Security:**
  - Review all changes carefully for vulnerabilities.
- **Operations:**
  - Do not auto-run database migrations.
  - Do not auto-start development servers.

---

**Reminder:**
Always consult any relevant `README.md` files, including those inside folders and subfolders, when editing or extending any module.